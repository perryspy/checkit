<section ng-controller="CheckitCtrl" ng-init="getNotes()">
  <div class="page-header">
    <h1>CheckIt</h1>
  </div>

  <div class="list-group">
    <div ng-repeat="note in notes" class="list-group-item note">
        <span>
          <input type="checkbox"
                 ng-model="note.checked"
                 ng-click="updateNote(note)">
        </span>
        <span class="message"
              ng-cloak
              ng-class="{'strike text-muted': note.checked}"
              ng-dblclick="note.editing = true">
          <span ng-if="!note.editing">{{note.message}}</span>
          <span ng-if="note.editing">
            <form class="inline"
                  ng-submit="updateNote(note)">
              <input type="text"
                     ng-model="note.message"
                     ng-blur="note.editing = false" autofocus>
            </form>
          </span>
        </span>
        <span class="right">
          <button class="glyphicon glyphicon-remove delete-note-button"
                  ng-click="deleteNote(note)"></button>
        </span>
    </div> <!-- list-group-item -->
  </div>  <!-- list-group -->

  <form ng-submit="createNote()">
    <input type="text" class="form-control" placeholder="Add a new note" ng-model="msg">
  </form>
</section>
